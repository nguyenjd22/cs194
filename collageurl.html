<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
    <title>Collage</title>
    <script src="https://unpkg.com/d3@5"></script>
    <script src="https://unpkg.com/d3-gridding@0.1"></script>
  </head>
  <body>
    <div id="svgdiv">
    </div>
  </body>

  <script>
    var listOfPhotos = ['https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273731005_1622483398100351_9015346606797147524_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=7HFlUcBIBMMAX9p1Q9z&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT9tMmh97I9bVR6jGs_NnrJydJJ_6Xy-ibKxXT3Yf-YVxw&oe=6212B1F9',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273697721_466241501769309_877570938831552820_n.jpg?_nc_cat=109&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=a1ND8bFW3q8AX9S0n-T&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT8iq45HDWhjeiP3u3MPrqnUj8bYd1RRcvRonVQdOpq92g&oe=62118BE7',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273517576_205292898456646_4162846640394501540_n.jpg?_nc_cat=101&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=U8mIayaVEVgAX_pMdET&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT8hCttVtWRbB7Iu5yLUqQtBdVxSiAMyhC_13NrjlMCpKA&oe=62131249',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273763686_1378223082627984_5755796286553204691_n.jpg?_nc_cat=107&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=YR01zG4tgDoAX-_3XjY&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT8-TxPCyENKfSp_secXYfVFQhIFkx7VetrtiRH-zeRX7Q&oe=62113CE5',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273991148_1023224251925406_2755190589821789614_n.jpg?_nc_cat=105&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=QcCdD3tg8ycAX8TjhvX&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT9RO1EbnfByaCigAlLs6aSctSf6GG3wiDmJdpGYrgr3Pg&oe=62129D9C',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273704810_940432870197838_3376417217455877912_n.jpg?_nc_cat=106&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=RB6lYtm1HlMAX__1BQP&_nc_oc=AQn_-5AOCKUJWxDfkoa9vkUG41kLNuj30PauvTkaq2gGByEL-65PudevCYWXEptt7RE&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT99hqkr2Q-gBHichneoGzgvP7Z_D9pi9zAbqBRAmNuXmQ&oe=621214A8',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273694791_525528085426504_6282925786800745607_n.jpg?_nc_cat=105&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=Jwspjp0I8X8AX-g-T2q&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT9ieSfaoPVOeTpPp87q8-TdvaoQoWUD4r7H8p97cKRrwg&oe=6212B313',
        'https://scontent-sjc3-1.cdninstagram.com/v/t51.29350-15/273885396_124667133428062_4592531571721431012_n.jpg?_nc_cat=106&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=LsH4UZEgGoMAX-xMh6J&_nc_ht=scontent-sjc3-1.cdninstagram.com&edm=ANQ71j8EAAAA&oh=00_AT_FpeEgWX410BJAGL6gMGR8SEl4pfacvYgjemJx6rb9rA&oe=621165D2']
    
    displayCollage(listOfPhotos);

    function displayCollage(listOfPhotos) {
        var width = 800,
            height = 800;
        var gridding = d3.gridding()
            .size([width, height])
            .padding(50)
            .mode("grid");
        
        var data = d3.range(8);
        var beach_bknd = "https://media.istockphoto.com/photos/tropical-beach-copy-space-scene-picture-id1144456717?k=20&m=1144456717&s=612x612&w=0&h=z6AXl5vv_YMupxWfJ-RMR9KjpSAcVIoV9TlUaVzqRKM="
        
        var griddingData = gridding(data);
        
        var svg = d3.select("#svgdiv").append("svg")
            .attr("width", width)
        .attr("height", height);
        //.attr("align", "center");
        
        svg.append('svg:image')
            .attr("x", 0)
            .attr("y", 0)
            .attr("width", 1600)
            .attr("height", 1600)
            .attr("xlink:href", beach_bknd);
        
        svg.selectAll(".square")
            .data(griddingData)
            .enter().append("svg:image")
            .style("fill", "none")
            .style("stroke", "black")
            .attr("xlink:href", function(d) {
                console.log(listOfPhotos[d["__index"]]);
                    return listOfPhotos[d["__index"]];
            })
            .attr("width", function(d) { return d.width; })
            .attr("height", function(d) { return d.height; })
            .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; })
        }
  </script>
</html>
